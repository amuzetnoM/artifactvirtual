/* Import Geist fonts with more font weights for better typography */
/* Import specific weights for better control and potential performance */
@import '@fontsource/geist-sans/300.css';
@import '@fontsource/geist-sans/400.css';
@import '@fontsource/geist-sans/500.css';
@import '@fontsource/geist-sans/600.css';
@import '@fontsource/geist-sans/700.css'; /* Added bolder weight for headings */
@import '@fontsource/geist-mono/400.css';
@import '@fontsource/geist-mono/500.css';
@import '@fontsource/geist-mono/600.css'; /* Added bolder weight for mono */


/* Define cascade layers for better CSS organization and predictable overrides */
/* my-reset: For base styles that should have lowest precedence */
/* starlight: Starlight's default styles */
/* my-overrides: Your custom styles to override Starlight */
@layer my-reset, starlight, my-overrides;

/* --- MY RESET LAYER --- */
@layer my-reset {
  /* Improve font rendering and scrolling behavior */
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    scroll-behavior: smooth;
  }

  /* Optional: Basic box-sizing reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }
}

/* --- MY OVERRIDES LAYER --- */
@layer my-overrides {
  /* --- COLOR SYSTEM --- */
  /* Define a more comprehensive color system using Starlight variables */
  /* These variables are designed for a dark-first theme */
  :root {
    /* Accent Colors (Vivid Orange Palette) */
    --sl-color-accent-low: #2f160d; /* Darkest accent shade */
    --sl-color-accent: #ff6b00; /* Primary vivid orange */
    --sl-color-accent-high: #ffa366; /* Lightest accent shade */
    --sl-color-accent-gradient-start: #ff8c33; /* Lighter orange for gradients */
    --sl-color-accent-gradient-end: #cc5500; /* Darker orange for gradients */
    --sl-color-accent-text: #ff6b00; /* Use for accent text color */
    --sl-color-accent-border: #ff6b00; /* Use for accent borders */
    --sl-color-accent-surface: rgba(255, 107, 0, 0.15); /* Light transparent accent for backgrounds */
    --sl-color-accent-surface-hover: rgba(255, 107, 0, 0.25); /* Slightly darker for hover */


    /* Grayscale Colors (Adjust these to fit your dark theme preference) */
    /* These are examples, align them with Starlight's default gray variables if needed */
    --sl-color-gray-1: #f8f8f8; /* Very light gray (for text on dark backgrounds) */
    --sl-color-gray-2: #eaeaea; /* Light gray */
    --sl-color-gray-3: #cccccc; /* Medium light gray */
    --sl-color-gray-4: #a0a0a0; /* Medium gray */
    --sl-color-gray-5: #777777; /* Medium dark gray (for borders, dividers) */
    --sl-color-gray-6: #444444; /* Dark gray (for backgrounds, cards) */
    --sl-color-gray-7: #2a2a2a; /* Very dark gray (for backgrounds) */
    --sl-color-gray-8: #1a1a1a; /* Even darker gray */
    --sl-color-gray-9: #0d0d0d; /* Nearly black */

    /* Background and Border Colors (Leveraging grayscale) */
    --sl-color-bg: var(--sl-color-gray-8); /* Main background */
    --sl-color-surface: var(--sl-color-gray-7); /* Card/component surface */
    --sl-color-border: var(--sl-color-gray-6); /* Default border color */

    /* Text Colors */
    --sl-color-text-heading: var(--sl-color-gray-1); /* Heading text color */
    --sl-color-text-body: var(--sl-color-gray-3); /* Body text color */
    --sl-color-text-caption: var(--sl-color-gray-4); /* Caption/less important text */

    /* Layout and Spacing Variables (Refined scale) */
    --sl-size-3xs: 0.25rem; /* 4px */
    --sl-size-2xs: 0.5rem; /* 8px */
    --sl-size-xs: 0.75rem; /* 12px */
    --sl-size-sm: 1rem; /* 16px */
    --sl-size-md: 1.25rem; /* 20px */
    --sl-size-lg: 1.5rem; /* 24px */
    --sl-size-xl: 2rem; /* 32px */
    --sl-size-2xl: 2.5rem; /* 40px */
    --sl-size-3xl: 3rem; /* 48px */
    --sl-size-4xl: 4rem; /* 64px */

    --sl-content-pad-x: var(--sl-size-lg); /* Horizontal padding for content */
    --sl-nav-pad-x: var(--sl-size-md); /* Horizontal padding for navigation */
    --sl-nav-height: var(--sl-size-2xl); /* Height of the navigation bar */
    --sl-sidebar-pad-x: var(--sl-size-md); /* Horizontal padding for sidebar */
    --sl-sidebar-width: 18rem; /* Fixed sidebar width, adjust as needed */
    --sl-content-width: 65rem; /* Max width of content area, slightly increased */
    --sl-menu-button-size: var(--sl-size-xl); /* Size of the mobile menu button */


    /* Typography Scale (Based on --sl-text-base for adaptiveness) */
    --sl-text-xs: calc(var(--sl-text-base) * 0.75);
    --sl-text-sm: calc(var(--sl-text-base) * 0.875);
    --sl-text-base: 1rem; /* Base font size (16px) */
    --sl-text-lg: calc(var(--sl-text-base) * 1.125);
    --sl-text-xl: calc(var(--sl-text-base) * 1.25);
    --sl-text-2xl: calc(var(--sl-text-base) * 1.5);
    --sl-text-3xl: calc(var(--sl-text-base) * 1.875);
    --sl-text-4xl: calc(var(--sl-text-base) * 2.25); /* Added larger size for H1 */
    --sl-text-5xl: calc(var(--sl-text-base) * 3); /* Starlight default H1 size, keeping for reference */

    /* Component Styling Variables */
    --sl-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --sl-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --sl-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.15), 0 4px 6px -2px rgba(0, 0, 0, 0.08);
    --sl-shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.08);


    --sl-radius-sm: 0.375rem; /* Small border radius */
    --sl-radius-md: 0.5rem; /* Medium border radius */
    --sl-radius-lg: 0.75rem; /* Large border radius */
    --sl-radius-xl: 1rem; /* Extra large border radius */


    /* Header and Link Styling (Using new color variables) */
    --sl-color-header-text: var(--sl-color-text-heading);
    --sl-color-header-link: var(--sl-color-text-body);
    --sl-color-header-link-hover: var(--sl-color-accent-high);
    --sl-color-header-link-active: var(--sl-color-accent);
  }

  /* --- BASE TYPOGRAPHY --- */
  body {
    font-family: 'Geist Sans', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    font-size: var(--sl-text-base); /* Use the base text variable */
    line-height: 1.75; /* Slightly increased line height for readability */
    letter-spacing: -0.01em;
    color: var(--sl-color-text-body); /* Use text body color */
    background-color: var(--sl-color-bg); /* Use background color */
  }

  /* --- HEADING TYPOGRAPHY --- */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Geist Sans', system-ui, sans-serif;
    font-weight: 600; /* Slightly bolder headings */
    letter-spacing: -0.03em;
    color: var(--sl-color-text-heading); /* Use heading text color */
    line-height: 1.2;
  }

  h1 {
    font-size: var(--sl-text-4xl) !important; /* Use typography variable */
    margin-bottom: var(--sl-size-lg); /* Use spacing variable */
    font-weight: 700; /* Even bolder for H1 */
  }

  h2 {
    font-size: var(--sl-text-3xl) !important; /* Use typography variable */
    margin-top: var(--sl-size-2xl); /* Use spacing variable */
    margin-bottom: var(--sl-size-md); /* Use spacing variable */
  }

  h3 {
    font-size: var(--sl-text-xl) !important; /* Use typography variable */
    margin-top: var(--sl-size-xl); /* Use spacing variable */
    margin-bottom: var(--sl-size-sm); /* Use spacing variable */
  }

  h4, h5, h6 {
    font-size: var(--sl-text-lg) !important; /* Use typography variable */
    margin-top: var(--sl-size-lg); /* Use spacing variable */
    margin-bottom: var(--sl-size-xs); /* Use spacing variable */
  }

  /* --- CODE TYPOGRAPHY --- */
  code, pre {
    font-family: 'Geist Mono', Menlo, Monaco, Consolas, monospace;
    font-size: var(--sl-text-sm); /* Use typography variable */
    letter-spacing: -0.025em;
  }

  :not(pre) > code {
    background: var(--sl-color-accent-surface); /* Use accent surface variable */
    padding: 0.2em 0.4em;
    border-radius: var(--sl-radius-sm); /* Use radius variable */
    font-size: 0.9em; /* Slightly smaller for inline code */
    color: var(--sl-color-accent-text); /* Use accent text color */
    white-space: nowrap;
  }

  /* --- CONTENT SPACING AND LAYOUT --- */
  main {
    /* Use spacing variables for padding */
    padding: var(--sl-size-lg) 0 var(--sl-size-4xl) 0;
  }

  /* Improve spacing for paragraphs, lists, blockquotes etc. */
  .sl-markdown-content > * {
    margin-bottom: var(--sl-size-md); /* Consistent bottom margin */
    line-height: 1.75;
  }

   .sl-markdown-content {
     padding: var(--sl-size-lg) var(--sl-size-md); /* Use spacing variables */
     max-width: var(--sl-content-width); /* Use content width variable */
     margin: 0 auto; /* Center the content */
   }

  /* Specific adjustments for elements that might not need the default bottom margin */
  .sl-markdown-content > *:last-child {
    margin-bottom: 0;
  }

  /* Adjust spacing for code blocks */
  .sl-markdown-content pre {
    margin-top: var(--sl-size-md);
    margin-bottom: var(--sl-size-md);
  }

  /* --- LINK STYLING --- */
  a:not(.sl-button):not(.sidebar a):not(.sl-card) {
    color: var(--sl-color-accent-text); /* Use accent text color */
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease, border-color 0.2s ease;
    border-bottom: 1px solid transparent;
  }

  a:not(.sl-button):not(.sidebar a):not(.sl-card):hover {
    color: var(--sl-color-accent-high); /* Use accent high color */
    border-color: var(--sl-color-accent-high); /* Match border color */
  }

  /* --- COMPONENT STYLING --- */

  /* Header refinements */
  header {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: var(--sl-shadow-sm); /* Use shadow variable */
    height: var(--sl-nav-height); /* Use nav height variable */
    border-bottom: 1px solid var(--sl-color-border); /* Add a subtle border */
    background-color: rgba(26, 26, 26, 0.8); /* Semi-transparent background for blur effect */
  }

  .site-title {
    font-weight: 700; /* Bolder site title */
    letter-spacing: -0.02em;
    color: var(--sl-color-text-heading); /* Use heading text color */
  }

  /* --- SIDEBAR ENHANCEMENTS --- */
  .sidebar {
    border-right: 1px solid var(--sl-color-border); /* Use border variable */
    padding-top: var(--sl-size-md); /* Use spacing variable */
    background-color: var(--sl-color-surface); /* Use surface color for sidebar background */
  }

  /* Improved sidebar links */
  .sidebar-content a,
  .sidebar-content .sidebar-group a,
  .sidebar nav a {
    border-radius: var(--sl-radius-sm); /* Use radius variable */
    margin: var(--sl-size-3xs) 0; /* Use spacing variable */
    padding: var(--sl-size-xs) var(--sl-size-sm); /* Use spacing variables */
    transition: all 0.2s ease;
    color: var(--sl-color-text-body); /* Use body text color */
    font-size: var(--sl-text-sm); /* Use typography variable */
    font-weight: 400;
    position: relative;
    z-index: 5;
    opacity: 1;
    display: flex; /* Use flexbox for better alignment of icon/text */
    align-items: center;
  }

  /* Active sidebar links */
  .sidebar-content a[aria-current="page"],
  .sidebar-content a[data-current-parent="true"] {
    background-color: var(--sl-color-accent-surface) !important; /* Use accent surface variable */
    color: var(--sl-color-accent-text) !important; /* Use accent text color */
    font-weight: 500;
    position: relative;
  }

  /* Sidebar hover state */
  .sidebar-content a:hover {
    background-color: var(--sl-color-accent-surface-hover); /* Use accent surface hover variable */
    color: var(--sl-color-accent-high); /* Use accent high color */
  }

  /* Sidebar group labels */
  .sidebar h2 {
    font-size: var(--sl-text-xs) !important; /* Use typography variable */
    font-weight: 700; /* Bolder group labels */
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin: var(--sl-size-md) 0 var(--sl-size-xs); /* Use spacing variables */
    padding-left: var(--sl-size-sm); /* Use spacing variable */
    color: var(--sl-color-text-caption); /* Use caption text color */
    border: none; /* Remove potential default border from h2 rule */
  }

  .sidebar-content .sidebar-group {
    position: relative;
    z-index: 5;
    margin: var(--sl-size-xs) 0; /* Use spacing variable */
  }

  /* --- SEARCH BAR STYLING --- */
  /* Leverage Starlight's search variables */
  .search {
    --sl-search-result-background: var(--sl-color-surface);
    --sl-search-result-border: var(--sl-color-border);
    --sl-search-highlight-color: var(--sl-color-accent-high); /* Highlight search terms */
  }

  #starlight__search-input {
    border-radius: var(--sl-radius-md); /* Use radius variable */
    background-color: var(--sl-color-gray-7); /* Darker background for input */
    border: 1px solid var(--sl-color-border); /* Use border variable */
    padding: var(--sl-size-xs) var(--sl-size-sm); /* Use spacing variables */
    font-family: 'Geist Sans', sans-serif;
    font-size: var(--sl-text-sm); /* Use typography variable */
    transition: all 0.2s ease;
    box-shadow: var(--sl-shadow-sm); /* Use shadow variable */
    color: var(--sl-color-text-body); /* Use body text color */
  }

  #starlight__search-input::placeholder {
    color: var(--sl-color-text-caption); /* Style placeholder text */
  }

  #starlight__search-input:focus {
    background-color: var(--sl-color-gray-6); /* Slightly lighter on focus */
    border-color: var(--sl-color-accent-border); /* Accent border on focus */
    box-shadow: 0 0 0 2px var(--sl-color-accent-surface); /* Accent glow on focus */
    outline: none; /* Remove default outline */
  }

  /* Search results styling */
  .sl-search-result__title {
    color: var(--sl-color-accent-text); /* Use accent text color */
    font-weight: 500;
  }

  .sl-search-result__section,
  .sl-search-result__text {
    color: var(--sl-color-text-body); /* Use body text color for result text */
  }


  /* --- CARD GRID ENHANCEMENTS --- */
  .sl-card-grid {
    /* Use CSS Grid for adaptive layout */
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr)); /* Adaptive column width */
    gap: var(--sl-size-lg); /* Use spacing variable for gap */
    margin: var(--sl-size-xl) 0; /* Use spacing variable for margin */
    justify-content: center; /* Center cards if they don't fill the width */
  }

  .sl-card-grid .sl-card {
    background: var(--sl-color-surface); /* Use surface color */
    border: 1px solid var(--sl-color-border); /* Use border variable */
    border-radius: var(--sl-radius-lg); /* Use radius variable */
    padding: var(--sl-size-lg) !important; /* Use spacing variable, !important to override Starlight default */
    height: auto; /* Height is determined by content */
    display: flex;
    flex-direction: column;
    transition: all 0.3s cubic-bezier(0.22, 1, 0.36, 1); /* Smoother transition */
    box-shadow: var(--sl-shadow-md); /* Use shadow variable */
    position: relative;
    overflow: hidden;
    text-decoration: none; /* Remove underline from card link */
    color: inherit; /* Inherit text color */
  }

  .sl-card-grid .sl-card:hover {
    transform: translateY(-4px); /* Lift effect on hover */
    box-shadow: var(--sl-shadow-lg); /* Larger shadow on hover */
    border-color: var(--sl-color-accent-border); /* Accent border on hover */
  }

  /* Accent top border on hover */
  .sl-card-grid .sl-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px; /* Thickness of the accent border */
    background: var(--sl-color-accent); /* Use accent color */
    transform: translateY(-100%); /* Start off-screen */
    transition: transform 0.3s cubic-bezier(0.22, 1, 0.36, 1);
  }

  .sl-card-grid .sl-card:hover::before {
    transform: translateY(0); /* Slide in on hover */
  }


  .sl-card-grid .sl-card h3 {
    font-size: var(--sl-text-lg) !important; /* Use typography variable */
    color: var(--sl-color-text-heading); /* Use heading text color */
    margin-top: 0;
    margin-bottom: var(--sl-size-xs); /* Use spacing variable */
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: var(--sl-size-xs); /* Use spacing variable for gap */
  }

  .sl-card-grid .sl-card p {
      font-size: var(--sl-text-sm); /* Slightly smaller text in cards */
      color: var(--sl-color-text-body); /* Use body text color */
      margin-bottom: 0; /* Remove bottom margin from last paragraph in card */
  }

  .sl-card .sl-flex svg {
    width: var(--sl-size-md); /* Use spacing variable for icon size */
    height: var(--sl-size-md); /* Use spacing variable for icon size */
    color: var(--sl-color-accent); /* Use accent color for icons */
  }

  /* --- BUTTON STYLING --- */
  .sl-button {
    /* Use gradient with accent colors */
    background: linear-gradient(to right, var(--sl-color-accent-gradient-start), var(--sl-color-accent-gradient-end));
    border-radius: var(--sl-radius-md); /* Use radius variable */
    padding: var(--sl-size-xs) var(--sl-size-md); /* Use spacing variables for padding */
    font-weight: 500;
    font-size: var(--sl-text-base); /* Use base text size for buttons */
    letter-spacing: -0.01em;
    transition: all 0.2s ease;
    border: none;
    box-shadow: var(--sl-shadow-sm); /* Use shadow variable */
    position: relative;
    overflow: hidden;
    color: var(--sl-color-gray-9); /* Dark text for contrast on orange */
    display: inline-flex; /* Use inline-flex for better centering of content */
    align-items: center;
    justify-content: center;
    text-decoration: none; /* Remove underline from button links */
  }

  /* Button hover effect */
  .sl-button:hover {
    background: linear-gradient(to left, var(--sl-color-accent-gradient-start), var(--sl-color-accent-gradient-end)); /* Reverse gradient on hover */
    transform: translateY(-2px); /* Lift effect on hover */
    box-shadow: var(--sl-shadow-md); /* Larger shadow on hover */
  }

  .sl-button:active {
    transform: translateY(0); /* Press down effect on active */
    box-shadow: var(--sl-shadow-sm); /* Smaller shadow on active */
  }

  /* --- CUSTOM COMPONENT ENHANCEMENTS --- */
  .custom-card {
    padding: var(--sl-size-xl); /* Use spacing variable */
    border-radius: var(--sl-radius-lg); /* Use radius variable */
    background: var(--sl-color-surface); /* Use surface color */
    box-shadow: var(--sl-shadow-md); /* Use shadow variable */
    border: 1px solid var(--sl-color-border); /* Use border variable */
    margin: var(--sl-size-xl) 0; /* Use spacing variable */
    transition: all 0.3s cubic-bezier(0.22, 1, 0.36, 1); /* Smoother transition */
    position: relative;
    overflow: hidden;
  }

  .custom-card:hover {
    transform: translateY(-4px); /* Lift effect on hover */
    box-shadow: var(--sl-shadow-lg); /* Larger shadow on hover */
    border-color: var(--sl-color-accent-border); /* Accent border on hover */
  }

  /* Accent top border on hover (matching sl-card) */
  .custom-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px; /* Thickness of the accent border */
    background: var(--sl-color-accent); /* Use accent color */
    transform: translateY(-100%); /* Start off-screen */
    transition: transform 0.3s cubic-bezier(0.22, 1, 0.36, 1);
  }

  .custom-card:hover::before {
    transform: translateY(0); /* Slide in on hover */
  }


  /* --- TABLE ENHANCEMENTS --- */
  table {
    width: 100%;
    margin: var(--sl-size-xl) 0; /* Use spacing variable */
    border-collapse: separate;
    border-spacing: 0;
    overflow: hidden;
    border-radius: var(--sl-radius-md); /* Use radius variable */
    border: 1px solid var(--sl-color-border); /* Use border variable */
    font-size: var(--sl-text-sm); /* Use typography variable */
  }

  thead {
    background: var(--sl-color-gray-6); /* Use gray color */
  }

  th {
    text-align: left;
    font-weight: 600;
    padding: var(--sl-size-sm) var(--sl-size-md); /* Use spacing variables */
    border-bottom: 1px solid var(--sl-color-border); /* Use border variable */
    color: var(--sl-color-accent-text); /* Use accent text color */
    font-size: var(--sl-text-xs); /* Use typography variable */
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  td {
    padding: var(--sl-size-sm) var(--sl-size-md); /* Use spacing variables */
    border-bottom: 1px solid var(--sl-color-gray-6); /* Use gray color */
    color: var(--sl-color-text-body); /* Use body text color */
  }

  tr:last-child td {
    border-bottom: none;
  }

  /* Add subtle hover effect on table rows */
  tbody tr:hover {
      background-color: rgba(255, 107, 0, 0.05); /* Light accent background on hover */
  }


  /* --- CODE BLOCK STYLING --- */
  pre {
    /* Background using surface and adding transparency with backdrop filter */
    background: rgba(42, 42, 42, 0.8); /* Use a slightly transparent dark gray */
    border-radius: var(--sl-radius-md); /* Use radius variable */
    padding: var(--sl-size-md); /* Use spacing variable */
    overflow-x: auto;
    border: 1px solid var(--sl-color-border); /* Use border variable */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: var(--sl-shadow-md); /* Use shadow variable */
    margin: var(--sl-size-md) 0; /* Use spacing variable */
  }

  /* --- UTILITY CLASSES --- */
  .centered {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* --- ANIMATION UTILITIES --- */
  .animate-fade-in {
    animation: fadeIn 0.5s ease forwards;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(var(--sl-size-xs)); } /* Use spacing variable */
    to { opacity: 1; transform: translateY(0); }
  }

  /* --- MOBILE RESPONSIVENESS --- */
  @media (max-width: 50em) {
    :root {
      /* Adjust padding for smaller screens */
      --sl-content-pad-x: var(--sl-size-md);
      --sl-nav-pad-x: var(--sl-size-sm);
      --sl-sidebar-pad-x: var(--sl-size-sm);

      /* Adjust typography scale for smaller screens */
      --sl-text-base: 0.9375rem; /* 15px */
    }

    h1 { font-size: var(--sl-text-3xl) !important; } /* Adjust heading sizes */
    h2 { font-size: var(--sl-text-2xl) !important; }
    h3 { font-size: var(--sl-text-xl) !important; }

    .sl-markdown-content {
      padding: var(--sl-size-md) var(--sl-size-sm); /* Adjust content padding */
    }

    .sl-card-grid {
      grid-template-columns: 1fr; /* Stack cards on small screens */
      gap: var(--sl-size-md); /* Adjust gap */
      margin: var(--sl-size-lg) 0; /* Adjust margin */
    }

    .sl-card-grid .sl-card {
      padding: var(--sl-size-lg) !important; /* Adjust card padding */
    }

    /* Mobile-specific UI improvements */
    #starlight__search {
       /* Allow search to take up more width on small screens */
       max-width: 90%;
       margin-left: auto;
       margin-right: auto;
    }


    /* Tightening up mobile spacing */
    .sl-markdown-content > * {
      margin-bottom: var(--sl-size-sm); /* Reduce bottom margin */
    }

    .custom-card {
      padding: var(--sl-size-lg); /* Adjust custom card padding */
      margin: var(--sl-size-lg) 0; /* Adjust custom card margin */
    }
  }

  /* --- DARK MODE REFINEMENTS (Leveraging Starlight's default dark mode) --- */
  /* Starlight handles the core dark/light mode switching by changing root variables.
     You can add specific overrides here if needed, but ideally, your base
     variables in :root should work for your preferred mode (looks like dark).
  */
  /* Example: Adjust shadows for dark mode if the default isn't suitable */
  /*
  @media (prefers-color-scheme: dark) {
    :root {
      --sl-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.15);
      --sl-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
    }
  }
  */

  /* Ensure text selection is visible with accent color */
  ::selection {
    background-color: var(--sl-color-accent);
    color: var(--sl-color-gray-9);
  }
}